/// Циклический сдвиг влево 32-битного слова
pub fn rotate_left(x: u32, r: u8) -> u32 {
    // гарантируем, что r лежит в [0,31]
    let r = (r as u32) % 32;
    // (32 - r) % 32 тоже даёт 0..31, так что больше никаких panic
    let inv = (32 - r) % 32;
    (x << r) | (x >> inv)
}

/// Циклический сдвиг вправо 32-битного слова
pub fn rotate_right(x: u32, r: u8) -> u32 {
    let r = (r as u32) % 32;
    let inv = (32 - r) % 32;
    (x >> r) | (x << inv)
}
